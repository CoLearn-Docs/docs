---
title: 'Moth'
---

# Moth 서버 프로토콜: RSSP (Realtime Simple Streaming Protocol)

<!-- NOTE
- RSSP 프로토콜 개요
- RSSP 프로토콜 사용법
 -->

## RSSP 프로토콜

Moth 서버에서 사용하는 프로토콜인 RSSP(Realtime Simple Streaming Protocol)은 기존 스트리밍 프로토콜의 복잡함을 극복하고 사용자에게 보다 간단하고 직관적인 경험을 제공하기 위해 팀그릿이 독자적으로 개발하였습니다. 이 프로토콜은 사용하기 쉽고 확장성이 뛰어나며, 높은 성능을 제공합니다.

## RSSP 프로토콜의 동작

RSSP 프로토콜은 WebSocket을 기반으로 한 웹소켓 프레임 단위의 전송 기법을 사용합니다. 프레임은 텍스트 또는 이진 형식으로 전송되며, 텍스트 형식인 경우 MIME 형식의 정보를 통해 이진 스트림의 형식을 설명합니다. 이 프로토콜은 웹 환경에서 웹소켓을 기반으로 동작하므로 방화벽 문제를 최소화하며 텍스트와 이진 메시지를 혼합하여 사용할 수 있습니다. 또한, JSON을 기반으로 한 메시지도 지원하며 사용자는 다양한 API 버전을 선택하여 필요한 기능을 활용할 수 있습니다.

## RSSP 프로토콜 작동 원리

RSSP의 작동 원리는 다음과 같습니다:

1. MIME 정보를 기반으로 데이터를 해석하고 처리합니다.
2. MIME 정보가 없는 경우 MIME 정보를 수신할 때까지 이전 데이터를 무시합니다.
3. MIME 정보는 최대한 자주(1초 간격 권장) 반복하여 전송됩니다.
4. MIME 정보는 데이터의 형식과 함께 필요한 부가 정보를 포함합니다.

RSSP 프로토콜은 다양한 형식의 데이터를 지원하며, MIME 정보를 통해 데이터의 형식과 콘트롤 정보를 전달합니다. 또한, 사용자는 필요한 경우 새로운 데이터 형식을 정의하여 사용할 수 있습니다. 이미지, 비디오, 오디오 데이터에 대한 다양한 코덱을 지원하며, MIME 정보에 따라 적절한 처리 방식을 선택합니다.

## 이미지, 비디오, 오디오 코덱

Moth 서버에서는 이미지, 비디오, 오디오 데이터에 대해 다양한 코덱을 지원합니다. MIME 정보를 통해 데이터의 형식을 나타내며, MIME 정보에 따라 적절한 처리 방식을 선택합니다. 
+ 이미지 형식 : JPEG, PNG, WEBP, HEIF 등 지원
+ 비디오 형식 : H.264, H.265, VP8, VP9, AV1 등 지원
+ 오디오 형식 : Opus, Speex, AAC 등 지원
